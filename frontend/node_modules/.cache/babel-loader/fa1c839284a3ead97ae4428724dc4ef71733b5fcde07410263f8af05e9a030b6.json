{"ast":null,"code":"import { headers } from '../../App';\nconst updateUser = async (firstName, lastName, username, email, birthday, setError) => {\n  const ref = [{\n    val: firstName,\n    input: document.getElementsByTagName('input')[0]\n  }, {\n    val: lastName,\n    input: document.getElementsByTagName('input')[1]\n  }, {\n    val: username,\n    input: document.getElementsByTagName('input')[2]\n  }, {\n    val: email,\n    input: document.getElementsByTagName('input')[3]\n  }, {\n    val: birthday,\n    input: document.getElementsByTagName('input')[4]\n  }];\n  for (const entry of ref) {\n    const {\n      val,\n      input\n    } = entry;\n    if (!val) {\n      input.style.borderColor = 'red';\n      setError('Field is required');\n    } else if (val) {\n      input.style.borderColor = '#D8B4FD';\n    }\n  }\n  const userId = localStorage.getItem('userId');\n  if (firstName && lastName && username && email && birthday) {\n    setError('');\n    try {\n      const results = await fetch(`http://localhost/users/${userId}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          first_name: firstName,\n          last_name: lastName,\n          username,\n          email,\n          birthday\n        }),\n        credentials: 'include',\n        headers\n      });\n      const {\n        successful,\n        err\n      } = await results.json();\n      if (!successful) {\n        setError(err);\n      } else {\n        setError('');\n        window.location.href = `http://localhost:3000/user/${userId}`;\n      }\n    } catch (err) {\n      setError(err);\n    }\n  }\n};\nexport default updateUser;","map":{"version":3,"names":["headers","updateUser","firstName","lastName","username","email","birthday","setError","ref","val","input","document","getElementsByTagName","entry","style","borderColor","userId","localStorage","getItem","results","fetch","method","body","JSON","stringify","first_name","last_name","credentials","successful","err","json","window","location","href"],"sources":["/home/theprocoder/instagram-clone/frontend/src/serverFunctions/user/updateUser.ts"],"sourcesContent":["import { headers } from '../../App';\n\nconst updateUser = async (\n  firstName: string,\n  lastName: string,\n  username: string,\n  email: string,\n  birthday: string,\n  setError: any\n) => {\n  const ref = [\n    { val: firstName, input: document.getElementsByTagName('input')[0] },\n    { val: lastName, input: document.getElementsByTagName('input')[1] },\n    { val: username, input: document.getElementsByTagName('input')[2] },\n    { val: email, input: document.getElementsByTagName('input')[3] },\n    { val: birthday, input: document.getElementsByTagName('input')[4] },\n  ];\n\n  for (const entry of ref) {\n    const { val, input } = entry;\n\n    if (!val) {\n      input.style.borderColor = 'red';\n      setError('Field is required');\n    } else if (val) {\n      input.style.borderColor = '#D8B4FD';\n    }\n  }\n\n  const userId = localStorage.getItem('userId');\n\n  if (firstName && lastName && username && email && birthday) {\n    setError('');\n\n    try {\n      const results = await fetch(`http://localhost/users/${userId}`, {\n        method: 'POST',\n        body: JSON.stringify({\n          first_name: firstName,\n          last_name: lastName,\n          username,\n          email,\n          birthday,\n        }),\n        credentials: 'include',\n        headers,\n      });\n\n      const { successful, err } = await results.json();\n\n      if (!successful) {\n        setError(err);\n      } else {\n        setError('');\n\n        window.location.href = `http://localhost:3000/user/${userId}`;\n      }\n    } catch (err) {\n      setError(err);\n    }\n  }\n};\n\nexport default updateUser;\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,WAAW;AAEnC,MAAMC,UAAU,GAAG,MAAAA,CACjBC,SAAiB,EACjBC,QAAgB,EAChBC,QAAgB,EAChBC,KAAa,EACbC,QAAgB,EAChBC,QAAa,KACV;EACH,MAAMC,GAAG,GAAG,CACV;IAAEC,GAAG,EAAEP,SAAS;IAAEQ,KAAK,EAAEC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;EAAE,CAAC,EACpE;IAAEH,GAAG,EAAEN,QAAQ;IAAEO,KAAK,EAAEC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;EAAE,CAAC,EACnE;IAAEH,GAAG,EAAEL,QAAQ;IAAEM,KAAK,EAAEC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;EAAE,CAAC,EACnE;IAAEH,GAAG,EAAEJ,KAAK;IAAEK,KAAK,EAAEC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;EAAE,CAAC,EAChE;IAAEH,GAAG,EAAEH,QAAQ;IAAEI,KAAK,EAAEC,QAAQ,CAACC,oBAAoB,CAAC,OAAO,CAAC,CAAC,CAAC;EAAE,CAAC,CACpE;EAED,KAAK,MAAMC,KAAK,IAAIL,GAAG,EAAE;IACvB,MAAM;MAAEC,GAAG;MAAEC;IAAM,CAAC,GAAGG,KAAK;IAE5B,IAAI,CAACJ,GAAG,EAAE;MACRC,KAAK,CAACI,KAAK,CAACC,WAAW,GAAG,KAAK;MAC/BR,QAAQ,CAAC,mBAAmB,CAAC;IAC/B,CAAC,MAAM,IAAIE,GAAG,EAAE;MACdC,KAAK,CAACI,KAAK,CAACC,WAAW,GAAG,SAAS;IACrC;EACF;EAEA,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAE7C,IAAIhB,SAAS,IAAIC,QAAQ,IAAIC,QAAQ,IAAIC,KAAK,IAAIC,QAAQ,EAAE;IAC1DC,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMY,OAAO,GAAG,MAAMC,KAAK,CAAE,0BAAyBJ,MAAO,EAAC,EAAE;QAC9DK,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBC,UAAU,EAAEvB,SAAS;UACrBwB,SAAS,EAAEvB,QAAQ;UACnBC,QAAQ;UACRC,KAAK;UACLC;QACF,CAAC,CAAC;QACFqB,WAAW,EAAE,SAAS;QACtB3B;MACF,CAAC,CAAC;MAEF,MAAM;QAAE4B,UAAU;QAAEC;MAAI,CAAC,GAAG,MAAMV,OAAO,CAACW,IAAI,CAAC,CAAC;MAEhD,IAAI,CAACF,UAAU,EAAE;QACfrB,QAAQ,CAACsB,GAAG,CAAC;MACf,CAAC,MAAM;QACLtB,QAAQ,CAAC,EAAE,CAAC;QAEZwB,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAI,8BAA6BjB,MAAO,EAAC;MAC/D;IACF,CAAC,CAAC,OAAOa,GAAG,EAAE;MACZtB,QAAQ,CAACsB,GAAG,CAAC;IACf;EACF;AACF,CAAC;AAED,eAAe5B,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}