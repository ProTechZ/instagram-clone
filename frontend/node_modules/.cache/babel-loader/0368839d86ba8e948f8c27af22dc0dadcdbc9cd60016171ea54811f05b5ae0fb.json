{"ast":null,"code":"export const login = async (usernameEmail, password, setError) => {\n  const usernameEmailInput = document.getElementById(\"usernameEmailInput\");\n  const passwordInput = document.getElementById(\"passwordInput\");\n  if (!usernameEmail) {\n    usernameEmailInput.style.borderColor = \"red\";\n    setError(\"Field is required\");\n  } else if (usernameEmail) {\n    usernameEmailInput.style.borderColor = \"#D8B4FD\";\n  }\n  if (!password) {\n    passwordInput.style.borderColor = \"red\";\n    setError(\"Field is required\");\n  } else if (password) {\n    passwordInput.style.borderColor = \"#D8B4FD\";\n  }\n  if (usernameEmail && password) {\n    setError(\"\");\n    try {\n      const results = await fetch(\"http://localhost/account/login\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          usernameEmail,\n          password\n        }),\n        credentials: \"include\",\n        headers\n      });\n      const {\n        successful,\n        user,\n        err\n      } = await results.json();\n      if (!successful) {\n        setError(err);\n      } else {\n        setError(\"\");\n        localStorage.setItem(\"userId\", user.user_id.toString());\n        window.location.href = \"http://localhost:3000/\";\n      }\n    } catch (err) {\n      setError(err);\n    }\n  }\n};","map":{"version":3,"names":["login","usernameEmail","password","setError","usernameEmailInput","document","getElementById","passwordInput","style","borderColor","results","fetch","method","body","JSON","stringify","credentials","headers","successful","user","err","json","localStorage","setItem","user_id","toString","window","location","href"],"sources":["/home/theprocoder/instagram-clone/frontend/src/serverFunctions/user/login.1.ts"],"sourcesContent":["export const login = async (\n  usernameEmail: string,\n  password: string,\n  setError: any\n) => {\n  const usernameEmailInput = document.getElementById(\n    \"usernameEmailInput\"\n  ) as HTMLInputElement;\n\n  const passwordInput = document.getElementById(\n    \"passwordInput\"\n  ) as HTMLInputElement;\n\n  if (!usernameEmail) {\n    usernameEmailInput.style.borderColor = \"red\";\n    setError(\"Field is required\");\n  } else if (usernameEmail) {\n    usernameEmailInput.style.borderColor = \"#D8B4FD\";\n  }\n  if (!password) {\n    passwordInput.style.borderColor = \"red\";\n    setError(\"Field is required\");\n  } else if (password) {\n    passwordInput.style.borderColor = \"#D8B4FD\";\n  }\n\n  if (usernameEmail && password) {\n    setError(\"\");\n\n    try {\n      const results = await fetch(\"http://localhost/account/login\", {\n        method: \"POST\",\n        body: JSON.stringify({\n          usernameEmail,\n          password,\n        }),\n        credentials: \"include\",\n        headers,\n      });\n      const { successful, user, err } = await results.json();\n\n      if (!successful) {\n        setError(err);\n      } else {\n        setError(\"\");\n        localStorage.setItem(\"userId\", user.user_id.toString());\n\n        window.location.href = \"http://localhost:3000/\";\n      }\n    } catch (err) {\n      setError(err);\n    }\n  }\n};\n"],"mappings":"AAAA,OAAO,MAAMA,KAAK,GAAG,MAAAA,CACnBC,aAAqB,EACrBC,QAAgB,EAChBC,QAAa,KACV;EACH,MAAMC,kBAAkB,GAAGC,QAAQ,CAACC,cAAc,CAChD,oBACF,CAAqB;EAErB,MAAMC,aAAa,GAAGF,QAAQ,CAACC,cAAc,CAC3C,eACF,CAAqB;EAErB,IAAI,CAACL,aAAa,EAAE;IAClBG,kBAAkB,CAACI,KAAK,CAACC,WAAW,GAAG,KAAK;IAC5CN,QAAQ,CAAC,mBAAmB,CAAC;EAC/B,CAAC,MAAM,IAAIF,aAAa,EAAE;IACxBG,kBAAkB,CAACI,KAAK,CAACC,WAAW,GAAG,SAAS;EAClD;EACA,IAAI,CAACP,QAAQ,EAAE;IACbK,aAAa,CAACC,KAAK,CAACC,WAAW,GAAG,KAAK;IACvCN,QAAQ,CAAC,mBAAmB,CAAC;EAC/B,CAAC,MAAM,IAAID,QAAQ,EAAE;IACnBK,aAAa,CAACC,KAAK,CAACC,WAAW,GAAG,SAAS;EAC7C;EAEA,IAAIR,aAAa,IAAIC,QAAQ,EAAE;IAC7BC,QAAQ,CAAC,EAAE,CAAC;IAEZ,IAAI;MACF,MAAMO,OAAO,GAAG,MAAMC,KAAK,CAAC,gCAAgC,EAAE;QAC5DC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACnBd,aAAa;UACbC;QACF,CAAC,CAAC;QACFc,WAAW,EAAE,SAAS;QACtBC;MACF,CAAC,CAAC;MACF,MAAM;QAAEC,UAAU;QAAEC,IAAI;QAAEC;MAAI,CAAC,GAAG,MAAMV,OAAO,CAACW,IAAI,CAAC,CAAC;MAEtD,IAAI,CAACH,UAAU,EAAE;QACff,QAAQ,CAACiB,GAAG,CAAC;MACf,CAAC,MAAM;QACLjB,QAAQ,CAAC,EAAE,CAAC;QACZmB,YAAY,CAACC,OAAO,CAAC,QAAQ,EAAEJ,IAAI,CAACK,OAAO,CAACC,QAAQ,CAAC,CAAC,CAAC;QAEvDC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,wBAAwB;MACjD;IACF,CAAC,CAAC,OAAOR,GAAG,EAAE;MACZjB,QAAQ,CAACiB,GAAG,CAAC;IACf;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}